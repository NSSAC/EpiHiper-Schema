{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Disease Model",
  "description": "The disease model describes the possible disease state changes within an individual including infection.",
  "type": "object",
  "required": [
    "states",
    "initialState",
    "infections",
    "transitions"
  ],
  "properties": {
    "states": {
      "type": "array",
      "description": "An array of states",
      "items": {
        "type": "object",
        "description": "A disease state",
        "required": [
          "id",
          "label",
          "susceptibility",
          "infectivity"
        ],
        "properties": {
          "id": {"$ref": "./typeRegistry.json#/definitions/uniqueId"},
          "label": {"$ref": "./typeRegistry.json#/definitions/label"},
          "susceptibility": {"$ref": "./typeRegistry.json#/definitions/nonNegativeNumber"},
          "infectivity": {"$ref": "./typeRegistry.json#/definitions/nonNegativeNumber"}
        }
      }
    },
    "initialState": {"$ref": "./typeRegistry.json#/definitions/uniqueIdRef"},
    "infections": {
      "type": "array",
      "description": "An array listing possible infections due to contact with other nodes.",
      "items": {
        "type": "object",
        "description": "An infection",
        "required": [
          "id",
          "label",
          "entryState",
          "exitState",
          "contactState",
          "transmissibility"
        ],
        "properties": {
          "id": {"$ref": "./typeRegistry.json#/definitions/uniqueId"},
          "label": {"$ref": "./typeRegistry.json#/definitions/label"},
          "entryState": {"$ref": "./typeRegistry.json#/definitions/uniqueIdRef"},
          "exitState": {"$ref": "./typeRegistry.json#/definitions/uniqueIdRef"},
          "contactState": {"$ref": "./typeRegistry.json#/definitions/uniqueIdRef"},
          "transmissibility": {"$ref": "./typeRegistry.json#/definitions/nonNegativeNumber"},
          "susceptibilityFactorOperation": {"$ref": "./typeRegistry.json#/definitions/numericOperation"},
          "infectivityFactorOperation": {"$ref": "./typeRegistry.json#/definitions/numericOperation"}
        }
      }
    },
    "transitions": {
      "type": "array",
      "description": "The transitions specifying the disease progression.",
      "items": {
        "type": "object",
        "description": "",
        "required": [
          "id",
          "label",
          "entryState",
          "exitState",
          "probability",
          "dwellTime"
        ],
        "properties": {
          "id": {"$ref": "./typeRegistry.json#/definitions/uniqueId"},
          "label": {"$ref": "./typeRegistry.json#/definitions/label"},
          "entryState": {"$ref": "./typeRegistry.json#/definitions/uniqueIdRef"},
          "exitState": {"$ref": "./typeRegistry.json#/definitions/uniqueIdRef"},
          "probability": {"$ref": "./typeRegistry.json#/definitions/nonNegativeNumber"},
          "dwellTime": {"$ref": "./typeRegistry.json#/definitions/distribution"},
          "susceptibilityFactorOperation": {"$ref": "./typeRegistry.json#/definitions/numericOperation"},
          "infectivityFactorOperation": {"$ref": "./typeRegistry.json#/definitions/numericOperation"}
        }
      }
    }
  }
}