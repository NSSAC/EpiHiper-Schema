{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Interventions",
  "description": "A schema describing the interventions allowed in EpiHiper",
  "type": "object",
  "required": ["interventions"],
  "properties": {
    "sets": {
      "type": "array",
      "items": [
        {"$ref": "https://raw.githubusercontent.com/NSSAC/EpiHiper-Schema/master/schema/typeRegistry.json#/definitions/set"}
      ]
    },
    "globalVariables": {
      "description": "The propertyName description",
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "label"
        ],
        "properties": {
          "id": {"$ref": "https://raw.githubusercontent.com/NSSAC/EpiHiper-Schema/master/schema/typeRegistry.json#/definitions/uniqueId"},
          "label": {"$ref": "https://raw.githubusercontent.com/NSSAC/EpiHiper-Schema/master/schema/typeRegistry.json#/definitions/label"},
          "intialValue": {"$ref": "https://raw.githubusercontent.com/NSSAC/EpiHiper-Schema/master/schema/typeRegistry.json#/definitions/nonNegativeInteger"},
          "reset": {"$ref": "https://raw.githubusercontent.com/NSSAC/EpiHiper-Schema/master/schema/typeRegistry.json#/definitions/nonNegativeInteger"},
          "filter": {"$ref": "https://raw.githubusercontent.com/NSSAC/EpiHiper-Schema/master/schema/typeRegistry.json#/definitions/setContent"}
        }
      }
    },
    "interventions": {
      "description": "The propertyName description",
      "type": "array",
      "items": {
        "description": "",
        "type": "object",
        "allOf": [
          {
            "type": "object",
            "required": ["triggers"],
            "properties": {
              "triggers": {
                "description": "",
                "type": "array",
                "minItems": 1,
                "items": {"$ref": "https://raw.githubusercontent.com/NSSAC/EpiHiper-Schema/master/schema/typeRegistry.json#/definitions/condition"}
              }
            }
          },
          {
            "type": "object",
            "required": ["filter"],
            "properties": {
              "filter": {"$ref": "https://raw.githubusercontent.com/NSSAC/EpiHiper-Schema/master/schema/typeRegistry.json#/definitions/setContent"}
            }
          },
          {"$ref": "https://raw.githubusercontent.com/NSSAC/EpiHiper-Schema/master/schema/typeRegistry.json#/definitions/complianceOrActions"}
        ]
      }
    }
  }
}